{"version":3,"sources":["store/actions/actionTypes.js","axios-base.js","store/actions/auth.js","store/actions/booking.js","store/actions/search.js","store/actions/index.js","components/UI/Spinner/Spinner.js","components/UI/Spinner/Spinner.module.css","shared/utility.js","store/reducers/search.js","store/reducers/auth.js","store/reducers/booking.js","utils/setAuthToken.js","hoc/asyncComponent/asyncComponent.js","App.js","index.js"],"names":["__webpack_require__","d","__webpack_exports__","AUTH_START","AUTH_READY","AUTH_SUCCESS","AUTH_FAIL","AUTH_LOGOUT","SET_AUTH_REDIRECT_PATH","SOURCE_UPDATE","DESTINATION_UPDATE","JOURNEY_DATE_UPDATE","SEARCH_BUSES_START","SEARCH_BUSES_SUCCESS","SEARCH_BUSES_FAIL","FETCH_BOOKINGS_START","FETCH_BOOKINGS_SUCCESS","FETCH_BOOKINGS_FAIL","ADD_SEAT","REMOVE_SEAT","CHANGE_TOTAL_SEATS","SET_FIELD","UPDATE_TOTAL_PRICE","BOOKING_START","BOOKING_SUCCESS","BOOKING_FAIL","BOOKING_INIT","axios__WEBPACK_IMPORTED_MODULE_0__","instance","n","axios","create","baseURL","authStart","type","actionTypes","authReady","authSuccess","token","userId","name","email","logout","localStorage","removeItem","checkAuthTimeout","expirationTime","dispatch","setTimeout","auth","password","phoneNumber","firstName","lastName","isSignup","authData","url","trim","post","then","response","expirationDate","Date","getTime","data","expiresIn","decoded","jwt_decode","split","setItem","id","catch","err","error","authCheckState","getItem","setField","busId","source","destination","journeyDate","basePrice","addSeat","removeSeat","changeTotalSeats","totalSeats","updateTotalPrice","bookNow","bookingData","fetchBookings","get","fetchedBookings","bookings","addSource","addDestination","addJourneyDate","searchBusesFail","searchBusesStart","searchBuses","searchParams","searchedData","buses","searchData","console","log","auth_auth","auth_logout","auth_authStart","auth_authReady","booking_fetchBookings","booking_bookNow","booking_setField","booking_addSeat","booking_removeSeat","booking_changeTotalSeats","booking_updateTotalPrice","search_searchBuses","search_addDestination","search_addSource","search_addJourneyDate","search_searchBusesStart","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_Spinner_module_css__WEBPACK_IMPORTED_MODULE_1__","_Spinner_module_css__WEBPACK_IMPORTED_MODULE_1___default","Spinner","a","createElement","className","classes","loader","module","exports","load6","round","updateObject","oldObject","updatedProperties","_objectSpread","initialState","loading","reducer","state","arguments","length","undefined","action","updateSearchData","updatedState","startSearch","authRedirectPath","authFail","authLogout","path","setAuthRedirectPath","totalPrice","booked","Number","formatDate","join","bookingSeatStart","bookingUpdate","booking","concat","bookingSeatSuccess","bookingSeatFail","fetchBookingsStart","fetchBookingsSuccess","fetchBookingsFail","setAuthToken","defaults","headers","common","asyncComponent","importComponent","_Component","_temp","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","component","inherits","createClass","key","value","_this2","cmp","setState","default","C","react_default","props","Component","asyncSearch","Promise","all","e","bind","asyncHome","asyncBooking","asyncShowBookings","App","onTryAutoSignUp","styles","main","top","right","transform","loadingContainer","display","flexDirection","justifyContent","alignItems","height","spinner","style","color","routes","react_router","isAuthenticated","exact","withRouter","connect","actions","composeEnhancers","compose","rootReducer","combineReducers","authReducer","search","searchReducer","bookingReducer","store","createStore","applyMiddleware","thunk","document","body","margin","padding","app","react_redux_es","react_router_dom","basename","process","src_App","rootElement","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.19db1798.chunk.js","sourcesContent":["export const AUTH_START = 'AUTH_START'\r\nexport const AUTH_READY = 'AUTH_READY'\r\nexport const AUTH_SUCCESS = 'AUTH_SUCCESS'\r\nexport const AUTH_FAIL = 'AUTH_FAIL'\r\nexport const AUTH_LOGOUT = 'AUTH_LOGOUT'\r\nexport const SET_AUTH_REDIRECT_PATH = 'SET_AUTH_REDIRECT_PATH'\r\n\r\nexport const SOURCE_UPDATE = 'SOURCE_UPDATE'\r\nexport const DESTINATION_UPDATE = 'DESTINATION_UPDATE'\r\nexport const JOURNEY_DATE_UPDATE = 'JOURNEY_DATE_UPDATE'\r\n\r\nexport const SEARCH_BUSES_START = 'SEARCH_BUSES_START'\r\nexport const SEARCH_BUSES_SUCCESS = 'SEARCH_BUSES_SUCCESS'\r\nexport const SEARCH_BUSES_FAIL = 'SEARCH_BUSES_FAIL'\r\n\r\nexport const FETCH_BOOKINGS_START = 'FETCH_BOOKINGS_START'\r\nexport const FETCH_BOOKINGS_SUCCESS = 'FETCH_BOOKINGS_SUCCESS'\r\nexport const FETCH_BOOKINGS_FAIL = 'FETCH_BOOKINGS_FAIL'\r\n\r\nexport const ADD_SEAT = 'ADD_SEAT'\r\nexport const REMOVE_SEAT = 'REMOVE_SEAT'\r\nexport const CHANGE_TOTAL_SEATS = 'CHANGE_TOTAL_SEATS'\r\nexport const SET_FIELD = 'SET_FIELD'\r\nexport const UPDATE_TOTAL_PRICE = 'UPDATE_TOTAL_PRICE'\r\nexport const BOOKING_START = 'BOOKING_START'\r\nexport const BOOKING_SUCCESS = 'BOOKING_SUCCESS'\r\nexport const BOOKING_FAIL = 'BOOKING_FAIL'\r\nexport const BOOKING_INIT = 'BOOKING_INIT'","import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'http://localhost:3002/'\r\n})\r\nexport default instance","import * as actionTypes from './actionTypes'\r\nimport axios from 'axios'\r\nimport jwt_decode from 'jwt-decode';\r\nexport const authStart = () => {\r\n    return {\r\n        type: actionTypes.AUTH_START\r\n    }\r\n}\r\nexport const authReady = () => {\r\n    return {\r\n        type:actionTypes.AUTH_READY\r\n    }\r\n}\r\nexport const authSuccess = (token, userId,name,email) => {\r\n    return {\r\n        type: actionTypes.AUTH_SUCCESS,\r\n        token: token,\r\n        userId: userId,\r\n        name:name,\r\n        email:email\r\n    }\r\n}\r\nexport const authFail = (error) => {\r\n    return {\r\n        type: actionTypes.AUTH_FAIL,\r\n        error: error\r\n    }\r\n}\r\nexport const logout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('expirationDate');\r\n    localStorage.removeItem('userId');\r\n    localStorage.removeItem(\"email\");\r\n    return {\r\n        type: actionTypes.AUTH_LOGOUT\r\n    }\r\n}\r\nexport const checkAuthTimeout = (expirationTime) => {\r\n    return dispatch => {\r\n        setTimeout(() => {\r\n            dispatch(logout())\r\n        }, expirationTime * 1000)\r\n    }\r\n}\r\nexport const setAuthRedirectPath = (path) => {\r\n    return {\r\n        type: actionTypes.SET_AUTH_REDIRECT_PATH,\r\n        path: path\r\n    }\r\n}\r\nexport const auth = (email, password,phoneNumber,firstName,lastName, isSignup) => {\r\n    return dispatch => {\r\n        dispatch(authStart());\r\n        let authData = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        let url = 'http://localhost:3002/user/login';\r\n        if (isSignup) {\r\n            url = 'http://localhost:3002/user/register';\r\n            authData = {\r\n                email: email,\r\n                password: password,\r\n                name: firstName.trim() + \" \" + lastName.trim(),\r\n                phoneNumber: phoneNumber\r\n            }\r\n        };\r\n        axios.post(url, authData)\r\n             .then(response => {\r\n                const expirationDate = new Date(new Date().getTime() + response.data.expiresIn * 1000);\r\n                const decoded = jwt_decode(response.data.token.split(' ')[1]);\r\n                localStorage.setItem('token', response.data.token);\r\n                localStorage.setItem('expirationDate', expirationDate)\r\n                localStorage.setItem('userId', decoded.id);\r\n                localStorage.setItem('name',decoded.name)\r\n                localStorage.setItem('email', decoded.email);\r\n                dispatch(authSuccess(response.data.token, decoded.id, decoded.name, decoded.email));\r\n                dispatch(checkAuthTimeout(response.data.expiresIn))\r\n            })\r\n            .catch(err => {\r\n                dispatch(authFail(err));\r\n            })\r\n    }\r\n}\r\n\r\nexport const authCheckState = () => {\r\n    return dispatch => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            dispatch(logout());\r\n        } else {\r\n            const expirationDate = new Date(localStorage.getItem('expirationDate'));\r\n            if (expirationDate <= new Date()) {\r\n                dispatch(logout())\r\n            } else {\r\n                const userId = localStorage.getItem('userId');\r\n                const name = localStorage.getItem('name');\r\n                const email = localStorage.getItem('email');\r\n                dispatch(authSuccess(token, userId,name,email));\r\n            }\r\n            dispatch(checkAuthTimeout((expirationDate.getTime() - new Date().getTime()) / 1000))\r\n        }\r\n    }\r\n}","import * as actionTypes from '../actions/actionTypes'\r\nimport axios from '../../axios-base'\r\n\r\nexport const setField = (busId, source, destination, journeyDate, basePrice) => {\r\n    return {\r\n        type:actionTypes.SET_FIELD,\r\n        busId:busId,\r\n        source:source,\r\n        destination:destination,\r\n        journeyDate:journeyDate,\r\n        basePrice:basePrice\r\n    }\r\n}\r\nexport const addSeat = () => {\r\n    return {\r\n        type:actionTypes.ADD_SEAT\r\n    }\r\n}\r\nexport const removeSeat = () => {\r\n    return {\r\n        type: actionTypes.REMOVE_SEAT\r\n    }\r\n}\r\nexport const changeTotalSeats = (totalSeats) => {\r\n    return {\r\n        type:actionTypes.CHANGE_TOTAL_SEATS,\r\n        totalSeats:totalSeats\r\n    }\r\n}\r\nexport const updateTotalPrice = () => {\r\n    return {\r\n        type:actionTypes.UPDATE_TOTAL_PRICE\r\n    }\r\n}\r\nexport const bookingInit = (bookingData) => {\r\n    return {\r\n        type:actionTypes.BOOKING_INIT,\r\n        ...bookingData\r\n    }\r\n}\r\nexport const bookingSuccess = (bookingData) => {\r\n    return {\r\n        type:actionTypes.BOOKING_SUCCESS,\r\n        bookingData:bookingData\r\n    } \r\n}\r\nexport const bookingFail = () => {\r\n    return {\r\n        type:actionTypes.BOOKING_FAIL\r\n    }\r\n}\r\nexport const bookNow = (bookingData) => {\r\n    return dispatch => {\r\n        axios.post('/bookings/new', bookingData)\r\n            .then(response => {\r\n               dispatch(bookingSuccess(response.data));\r\n            })\r\n            .catch(error => {\r\n                dispatch(bookingFail());\r\n            })\r\n    }\r\n}\r\nexport const fetchBookingsStart = () => {\r\n    return {\r\n        type:actionTypes.FETCH_BOOKINGS_START\r\n    }\r\n}\r\nexport const fetchBookingsSuccess = (fetchedBookings) => {\r\n    return {\r\n        type:actionTypes.FETCH_BOOKINGS_SUCCESS,\r\n        bookings: fetchedBookings\r\n    }\r\n}\r\nexport const fetchBookingsFailure = () => {\r\n    return {\r\n        type:actionTypes.FETCH_BOOKINGS_FAIL\r\n    }\r\n}\r\nexport const fetchBookings = () => {\r\n    return dispatch => {\r\n        dispatch(fetchBookingsStart());\r\n        axios.get('/bookings/old')\r\n            .then(response => {\r\n                dispatch(fetchBookingsSuccess(response.data.bookings));\r\n            })\r\n            .catch(error => {\r\n                dispatch(fetchBookingsFailure());\r\n            })\r\n    }\r\n}","import * as actionTypes from '../actions/actionTypes';\r\nimport axios from '../../axios-base'\r\n\r\nexport const addSource = (source) => {\r\n    return {\r\n        type:actionTypes.SOURCE_UPDATE,\r\n        source:source\r\n    }\r\n}\r\nexport const addDestination = (destination) => {\r\n    return {\r\n        type:actionTypes.DESTINATION_UPDATE,\r\n        destination: destination\r\n    }\r\n}\r\n\r\nexport const addJourneyDate = (journeyDate) => {\r\n    return {\r\n        type:actionTypes.JOURNEY_DATE_UPDATE,\r\n        journeyDate: journeyDate\r\n    }\r\n}\r\nexport const searchBusesFail = (error) => {\r\n\r\n    return {\r\n        type:actionTypes.SEARCH_BUSES_FAIL,\r\n        error:error\r\n    }\r\n}\r\nexport const searchBusesStart = () => {\r\n    return {\r\n        type:actionTypes.SEARCH_BUSES_START\r\n    }\r\n}\r\nexport const searchBusesSuccess = (searchedData) => {\r\n    return {\r\n        type:actionTypes.SEARCH_BUSES_SUCCESS,\r\n        searchData:searchedData\r\n    }\r\n}\r\n\r\nexport const searchBuses = (searchParams) => {\r\n    return dispatch => {\r\n        dispatch(searchBusesStart());\r\n        axios.post('/bus/search', searchParams)\r\n            .then(response => {\r\n                if (response.data.buses)\r\n                    dispatch(searchBusesSuccess(response.data.buses));\r\n                else {\r\n                    dispatch(searchBusesFail(response.data.error))\r\n                }\r\n                    \r\n            })\r\n            .catch(error => {\r\n                console.log(error);\r\n                dispatch(searchBusesFail(error));\r\n            })\r\n    }\r\n}","export {\r\n    auth,\r\n    logout,\r\n    setAuthRedirectPath,\r\n    authCheckState,\r\n    authStart,\r\n    authReady\r\n}\r\nfrom './auth'\r\n\r\nexport {\r\n    fetchBookings,\r\n    bookNow,\r\n    setField,\r\n    addSeat,\r\n    removeSeat,\r\n    changeTotalSeats,\r\n    updateTotalPrice\r\n} from './booking'\r\n\r\nexport {\r\n    searchBuses,\r\n    addDestination,\r\n    addSource,\r\n    addJourneyDate,\r\n    searchBusesStart,\r\n    searchBusesFail\r\n} from './search'","import React from 'react'\r\nimport classes from './Spinner.module.css'\r\nconst Spinner = () => {\r\n    return (\r\n        <div className={classes.loader}>Loading...</div>\r\n    )\r\n}\r\n\r\nexport default Spinner\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Spinner_loader__MhRO0\",\"load6\":\"Spinner_load6__1ceB7\",\"round\":\"Spinner_round__2D0Tg\"};","export const updateObject = (oldObject, updatedProperties) => {\r\n    return {\r\n        ...oldObject,\r\n        ...updatedProperties\r\n    }\r\n}","import * as actionTypes from '../actions/actionTypes'\r\nimport { updateObject } from '../../shared/utility'\r\n\r\nconst initialState = {\r\n    source : '',\r\n    destination:'',\r\n    journeyDate: '',\r\n    searchData:'',\r\n    loading:false,\r\n    error:''\r\n}\r\n\r\nconst addSource = (state,action) => {\r\n    const source = action.source\r\n    const updatedState = {\r\n        source: source\r\n    }\r\n    return updateObject(state,updatedState);\r\n}\r\nconst addDestination = (state, action) => {\r\n    const destination = action.destination\r\n    const updatedState = {\r\n        destination: destination        \r\n    }\r\n    return updateObject(state, updatedState);\r\n}\r\n\r\nconst addJourneyDate = (state,action) => {\r\n    const journeyDate = action.journeyDate;\r\n    const updatedState = {\r\n        journeyDate:journeyDate\r\n    }\r\n    return updateObject(state, updatedState);\r\n}\r\nconst startSearch = (state,action) => {\r\n    const updatedState ={\r\n        source: '',\r\n        destination: '',\r\n        journeyDate: '',\r\n        searchData: '',\r\n        loading: true,\r\n        error: ''\r\n    }\r\n    return updateObject(state, updatedState);\r\n}\r\n\r\nconst updateSearchData = (state,action) => {\r\n    const searchData = action.searchData;\r\n    const updatedState = {\r\n        searchData:searchData,\r\n        loading:false,\r\n        error:''\r\n    }\r\n    return updateObject(state,updatedState);\r\n}\r\nconst searchBusesFail = (state,action) => {\r\n    const updatedState = {\r\n        source: '',\r\n        destination: '',\r\n        journeyDate: '',\r\n        searchData: '',\r\n        loading: false,\r\n        error: action.error\r\n    }\r\n    return updateObject(state,updatedState);\r\n}\r\nconst reducer = (state= initialState, action) => {\r\n    switch(action.type){\r\n        case actionTypes.SOURCE_UPDATE : return addSource(state,action);\r\n        case actionTypes.DESTINATION_UPDATE : return addDestination(state, action);\r\n        case actionTypes.JOURNEY_DATE_UPDATE : return addJourneyDate(state, action);\r\n        case actionTypes.SEARCH_BUSES_SUCCESS :return updateSearchData(state,action);\r\n        case actionTypes.SEARCH_BUSES_FAIL:return searchBusesFail(state,action);\r\n        case actionTypes.SEARCH_BUSES_START: return startSearch(state, action);\r\n        default: return state;\r\n    }\r\n}\r\nexport default reducer;","import * as actionTypes from '../actions/actionTypes'\r\nimport { updateObject } from '../../shared/utility'\r\nconst initialState = {\r\n    token : null,\r\n    userId: null,\r\n    name:'',\r\n    email:'',\r\n    error:null,\r\n    authRedirectPath:'',\r\n    loading:false\r\n}\r\nconst authStart = (state, action) => {\r\n    return updateObject(state, { error: null, loading: true})\r\n}\r\nconst authReady = (state,action) => {\r\n    return updateObject(state,{error : null,loading: false})\r\n}\r\nconst authSuccess = (state,action) => {\r\n    return updateObject(state,{ \r\n        token:action.token,\r\n        userId:action.userId,\r\n        name:action.name,\r\n        email:action.email,\r\n        error:null\r\n     });\r\n     \r\n}\r\nconst authFail =(state, action) => {\r\n    return updateObject(state,{\r\n        error:action.error,\r\n        loading:false\r\n    })\r\n}\r\nconst authLogout = (state,action) => {\r\n    return updateObject(state, {token:null, userId:null,name:null, email:null})\r\n}\r\nconst setAuthRedirectPath = (state,action) => {\r\n    return updateObject(state,{ authRedirectPath:action.path});\r\n}\r\nconst reducer = (state =initialState,action) => {\r\n    switch(action.type) {\r\n        case actionTypes.AUTH_START: return authStart(state, action);\r\n        case actionTypes.AUTH_READY: return authReady(state,action);\r\n        case actionTypes.AUTH_SUCCESS: return authSuccess(state,action);\r\n        case actionTypes.AUTH_FAIL: return authFail(state,action)\r\n        case actionTypes.AUTH_LOGOUT: return authLogout(state,action)\r\n        case actionTypes.SET_AUTH_REDIRECT_PATH: return setAuthRedirectPath(state,action);\r\n        default: return state;    \r\n    }\r\n}\r\nexport default reducer","import * as actionTypes from '../actions/actionTypes';\r\nimport { updateObject } from '../../shared/utility'\r\nconst initialState = {\r\n    source: \"\",\r\n    destination: '',\r\n    journeyDate: '',\r\n    totalSeats:'',\r\n    totalPrice:0,\r\n    basePrice:0,\r\n    booked:false,\r\n    loading:false,\r\n    bookings:[],\r\n    busId:''\r\n}\r\n\r\nconst bookingInit = (state, action) => {\r\n    const updatedState = {\r\n        source:action.source,\r\n        destination:action.destination,\r\n        journeyDate:action.journeyDate,\r\n        totalSeats:action.totalSeats,\r\n        totalPrice:action.basePrice * action.totalSeats,\r\n        booked:false\r\n    }\r\n    return updateObject(state, updatedState)\r\n}\r\nconst setField = (state, action) => {\r\n    const formatDate = action.journeyDate.split('-');\r\n    const journeyDate = [formatDate[2], formatDate[1], formatDate[0]].join('-')\r\n    const updatedState ={\r\n            busId: action.busId,\r\n            source: action.source,\r\n            destination: action.destination,\r\n            journeyDate:journeyDate,\r\n            basePrice:action.basePrice\r\n    }\r\n    return updateObject(state,updatedState);\r\n}\r\nconst addSeat = (state,action) => {\r\n    return updateObject(state,{totalSeats: Number(state.totalSeats) + 1})\r\n}\r\nconst removeSeat = (state,action) => {\r\n    return updateObject(state,{totalSeats: Number(state.totalSeats) - 1})\r\n}\r\nconst changeTotalSeats = (state,action) => {\r\n    return updateObject(state, {totalSeats : Number(action.totalSeats)})\r\n}\r\nconst updateTotalPrice = (state,action) => {\r\n    return updateObject(state, {totalPrice: state.totalSeats * state.basePrice});\r\n}\r\nconst bookingSeatStart = (state, action) => {\r\n    return updateObject(state, {\r\n        loading:true,\r\n        booked:false,\r\n    })\r\n}\r\nconst bookingSeatSuccess = (state, action) => {\r\n    const bookingUpdate = action.bookingData\r\n    return updateObject(state, {\r\n        loading:false,\r\n        booked:true,\r\n        source: \"\",\r\n        destination: '',\r\n        journeyDate: '',\r\n        totalSeats: '',\r\n        totalPrice: 0,\r\n        basePrice: 0,\r\n        busId: '',\r\n        bookings: state.booking.concat(bookingUpdate)\r\n    })\r\n}\r\n\r\nconst bookingSeatFail = (state,action) => {\r\n    return updateObject(state, {\r\n        loading:false\r\n    })\r\n}\r\nconst fetchBookingsStart = (state, action) => {\r\n    return updateObject(state, {\r\n        loading:true\r\n    })\r\n}\r\n\r\nconst fetchBookingsSuccess = (state, action) => {\r\n    return updateObject(state,{\r\n        bookings:action.bookings,\r\n        loading:false\r\n    })\r\n}\r\n\r\nconst fetchBookingsFail = (state, action) => {\r\n    return updateObject(state, {\r\n        loading:false\r\n    })\r\n}\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch(action.type){\r\n        case actionTypes.ADD_SEAT : return addSeat(state,action);\r\n        case actionTypes.REMOVE_SEAT : return removeSeat(state,action);\r\n        case actionTypes.CHANGE_TOTAL_SEATS : return changeTotalSeats(state,action);\r\n        case actionTypes.UPDATE_TOTAL_PRICE:return updateTotalPrice(state,action)\r\n        case actionTypes.SET_FIELD: return setField(state, action);\r\n        //case actionTypes.BOOKING_INIT: return bookingInit(state,action);\r\n        case actionTypes.BOOKING_START: return bookingSeatStart(state, action);\r\n        case actionTypes.BOOKING_SUCCESS: return bookingSeatSuccess(state, action);\r\n        case actionTypes.BOOKING_FAIL: return bookingSeatFail(state, action);\r\n        case actionTypes.FETCH_BOOKINGS_START: return fetchBookingsStart(state, action);\r\n        case actionTypes.FETCH_BOOKINGS_SUCCESS: return fetchBookingsSuccess(state, action);\r\n        case actionTypes.FETCH_BOOKINGS_FAIL:return fetchBookingsFail(state,action);\r\n        default: return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import axios from \"../axios-base\";\r\n\r\nconst setAuthToken = () => {\r\n    const token = localStorage.getItem(\"token\");\r\n    if (token) {\r\n        // Apply to every request\r\n        axios.defaults.headers.common['Authorization'] = token;\r\n    } else {\r\n        // Delete auth header\r\n        delete axios.defaults.headers.common[\"Authorization\"];\r\n    }\r\n};\r\n\r\nexport default setAuthToken;\r\n","import React, {\r\n    Component\r\n} from 'react'\r\n\r\nconst asyncComponent = (importComponent) => {\r\n    return class extends Component {\r\n        state = {\r\n            component: null\r\n        }\r\n        componentDidMount() {\r\n            importComponent()\r\n                .then(cmp => {\r\n                    this.setState({\r\n                        component: cmp.default\r\n                    });\r\n                })\r\n        }\r\n        render() {\r\n            const C = this.state.component;\r\n            return C ? < C {\r\n                ...this.props\r\n            }\r\n            /> : null\r\n        }\r\n    }\r\n}\r\n\r\nexport default asyncComponent","import React ,{ Component }from \"react\";\r\nimport {Switch, Route , withRouter } from \"react-router-dom\";\r\nimport * as actions from './store/actions/index'\r\nimport {connect} from 'react-redux';\r\nimport setAuthToken from '../src/utils/setAuthToken'\r\nimport Spinner from '../src/components/UI/Spinner/Spinner' \r\nimport asyncComponent from \"./hoc/asyncComponent/asyncComponent\";\r\nconst asyncSearch = asyncComponent(() => {\r\n  return import('../src/containers/SearchBuilder/SearchBuilder');\r\n})\r\nconst asyncHome = asyncComponent(() => {\r\n  return import('../src/containers/Home/HomeBuilder')\r\n});\r\nconst asyncBooking = asyncComponent(() => {\r\n  return import('../src/containers/Booking/Booking');\r\n});\r\nconst asyncShowBookings = asyncComponent(() => {\r\n  return import('../src/containers/Booking/ShowBookings')\r\n})\r\nclass App extends Component {\r\n  state={\r\n    loading:true\r\n  }\r\n  componentDidMount(){\r\n    setTimeout(() => this.setState({ loading : false}), 1700)\r\n    this.props.onTryAutoSignUp();\r\n    setAuthToken();\r\n  } \r\n  \r\n  render(){\r\n    const styles ={\r\n      main:{\r\n      'top':'50%',\r\n      'right':'50%',\r\n      'transform':'translate(50%,-50%)'\r\n      }, \r\n      loadingContainer:{\r\n        'display': 'flex', \r\n        'flexDirection': 'column', \r\n        'justifyContent': 'center', \r\n        'alignItems': 'center', \r\n        'height': '80vh'\r\n      }\r\n    }\r\n    let spinner = (\r\n      <div style={styles.loadingContainer}>\r\n        <Spinner style={styles.main}/>\r\n        <h3 style={{'color':'#ed3330'}}>Loading...</h3>\r\n      </div>\r\n    )\r\n    let routes = (\r\n      <Switch>\r\n        <Route path=\"/search\" component={this.state.loading ? () =>  spinner : asyncSearch} />\r\n        <Route path=\"/\" component={this.state.loading ? () => spinner : asyncHome}/>\r\n      </Switch>\r\n    )\r\n    if(this.props.isAuthenticated){\r\n      routes = (\r\n        <Switch>\r\n          <Route path=\"/showbookings\" component={asyncShowBookings} />\r\n          <Route path=\"/booknow/:id\" component={this.state.loading ? () =>  spinner : asyncBooking} />\r\n          <Route path=\"/search\" component={this.state.loading ? () =>  spinner : asyncSearch} />\r\n          <Route path=\"/\" exact component={this.state.loading ? () => spinner : asyncHome}/>\r\n        </Switch>\r\n      );\r\n    }\r\n  return (\r\n      <div>\r\n        <Switch>\r\n          {routes}\r\n        </Switch>\r\n      </div>\r\n  );\r\n}\r\n}\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isAuthenticated: state.auth.token !== null\r\n  }\r\n}\r\nconst mapDispatchToProps = dispatch => {\r\n  return {\r\n    onTryAutoSignUp: () => dispatch(actions.authCheckState())\r\n  }\r\n}\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(App));","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport searchReducer from '../src/store/reducers/search'\nimport authReducer from '../src/store/reducers/auth'\nimport bookingReducer from '../src/store/reducers/booking'\nimport { BrowserRouter} from \"react-router-dom\";\nimport thunk from 'redux-thunk';\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware, compose, combineReducers} from 'redux';\nimport App from './App';\nimport \"./styles.css\";\nimport setAuthToken from '../src/utils/setAuthToken'\n \nconst composeEnhancers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ : null || compose;\nconst rootReducer = combineReducers({\n  auth:authReducer,\n  search:searchReducer,\n  booking:bookingReducer\n});\n\nconst store = createStore(rootReducer, composeEnhancers(applyMiddleware(thunk)))\nsetAuthToken();\ndocument.body.style.margin = 0;\ndocument.body.style.padding = 0;\nconst app = (\n  <Provider store={store}>\n      <BrowserRouter basename={process.env.PUBLIC_URL}>\n        <App />\n      </BrowserRouter>\n  </Provider>   \n)\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(app, rootElement);\n"],"sourceRoot":""}